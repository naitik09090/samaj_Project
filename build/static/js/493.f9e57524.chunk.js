"use strict";(self.webpackChunksamaj=self.webpackChunksamaj||[]).push([[493],{493:(e,t,l)=>{l.r(t),l.d(t,{default:()=>r});var n=l(555),a=l(43),s=l(620),o=l(720),c=l(615),i=l(579);const r=()=>{const[e,t]=(0,a.useState)([]),[l,r]=(0,a.useState)([]),[d,h]=(0,a.useState)("All"),[u,x]=(0,a.useState)(""),[f,m]=(0,a.useState)([]),[g,p]=(0,a.useState)(null),[b,j]=(0,a.useState)(""),v=(0,a.useRef)(null),{id:y}=(0,c.g)(),[N,A]=(0,a.useState)(null),[C,w]=(0,a.useState)(0),[k,S]=(0,a.useState)(0),E="https://ahirsamajbe-gnapdbcbbzdcabc2.centralindia-01.azurewebsites.net",R=e=>null===e||void 0===e?void 0:e.replace(/^http:\/\//i,"https://");(0,a.useEffect)(()=>{fetch("".concat(E,"/api/v1/schools/schools/")).then(e=>e.json()).then(e=>{t(e),r(e);const l=[...new Set((e.data||[]).map(e=>e.school_type).filter(Boolean))].sort();m(l),console.log(h)}).catch(e=>console.error(e))},[]);const z={"Ahir Boarding":"\u0a86\u0ab9\u0ac0\u0ab0 \u0aac\u0acb\u0ab0\u0acd\u0aa1\u0abf\u0a82\u0a97","Ahir Charitable Trust":"\u0a86\u0ab9\u0abf\u0ab0 \u0a9a\u0ac7\u0ab0\u0abf\u0a9f\u0ac7\u0aac\u0ab2 \u0a9f\u0acd\u0ab0\u0ab8\u0acd\u0a9f","Ahir Samaj":"\u0a86\u0ab9\u0ac0\u0ab0 \u0ab8\u0aae\u0abe\u0a9c \u0ab5\u0abe\u0aa1\u0ac0","KANYA CHHATRALAYA":"\u0a95\u0aa8\u0acd\u0aaf\u0abe \u0a9b\u0aa4\u0acd\u0ab0\u0abe\u0ab2\u0aaf","Kanya Chhatra Alaya":"\u0a95\u0aa8\u0acd\u0aaf\u0abe \u0a9b\u0aa4\u0acd\u0ab0\u0abe\u0ab2\u0aaf",CHHATRALAYA:"\u0a9b\u0aa4\u0acd\u0ab0\u0abe\u0ab2\u0aaf","Chhatra Alaya":"\u0a9b\u0abe\u0aa4\u0acd\u0ab0\u0abe\u0ab2\u0aaf","Ahir Kalyan Mandal":"\u0a86\u0ab9\u0abf\u0ab0 \u0a95\u0ac7\u0ab3\u0ab5\u0aa3\u0ac0 \u0aae\u0a82\u0aa1\u0ab3"};(0,a.useEffect)(()=>{const t=(null===e||void 0===e?void 0:e.data)||[];if(null==g)return void r((0,n.A)((0,n.A)({},e),{},{data:t}));const l=t.filter(e=>e.school_type===g);r((0,n.A)((0,n.A)({},e),{},{data:l}))},[g,e]),(0,a.useEffect)(()=>{if(!b.trim()){const t=(null===e||void 0===e?void 0:e.data)||[];if(null==g)r((0,n.A)((0,n.A)({},e),{},{data:t}));else{const l=t.filter(e=>e.school_type===g);r((0,n.A)((0,n.A)({},e),{},{data:l}))}return}let t="".concat(E,"/api/v1/schools/schools/?search=").concat(encodeURIComponent(b));null!=g&&(t+="&school_type=".concat(encodeURIComponent(g))),fetch(t).then(e=>e.json()).then(e=>r(e)).catch(e=>console.error("Search error:",e)),console.log(j)},[b,g]),(0,a.useEffect)(()=>{if(!y)return A(null),void console.log(N);fetch("".concat(E,"/api/v1/schools/schools/").concat(y)).then(e=>e.json()).then(e=>{var t;return A(null!==(t=null===e||void 0===e?void 0:e.data)&&void 0!==t?t:e)}).catch(e=>console.error("Error fetching school:",e))},[y]),(0,a.useEffect)(()=>{const t=(null===e||void 0===e?void 0:e.data)||[];if("All"===d)return void r((0,n.A)((0,n.A)({},e),{},{data:t}));if(!u)return;console.log(x);const l=t.filter(e=>e[d]===u);r((0,n.A)((0,n.A)({},e),{},{data:l}))},[d,u,e]);const F=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;const l=Array.isArray(e)?e:[];if(!l.length)return[];if(l.length<=t)return[l.slice()];const n=l.concat(l.slice(0,Math.max(0,t-1))),a=[];for(let s=0;s<l.length;s++)a.push(n.slice(s,s+t));return a},_=(null===l||void 0===l?void 0:l.data)||[],W=F(_,8),H=F(_,4),I=()=>{W.length&&w(e=>(e+1)%W.length)},T=()=>{W.length&&w(e=>(e-1+W.length)%W.length)};return(0,a.useEffect)(()=>{C>=W.length&&w(0)},[W.length]),(0,a.useEffect)(()=>{k>=H.length&&S(0)},[H.length]),(0,i.jsxs)("div",{className:"container-fluid",style:{borderRadius:"22px"},children:[(0,i.jsx)("div",{id:"schoolCarousel",className:"carousel slide","data-bs-ride":"carousel","data-bs-interval":"10000",ref:v,children:(0,i.jsxs)("div",{className:"carousel-inner",children:[(0,i.jsx)("div",{className:"py-2",children:(0,i.jsx)("h1",{className:"text-center",style:{backgroundColor:"#EFA325",color:"white",padding:"10px",borderRadius:"22px",fontWeight:"600"},children:"\u0a86\u0aaa\u0aa3\u0ac0 \u0ab8\u0a82\u0ab8\u0acd\u0aa5\u0abe"})}),(0,i.jsx)("div",{className:"d-none d-md-block",children:W.length>0?W.map((e,t)=>(0,i.jsxs)("div",{className:"content-box2 bG_School carousel-item ".concat(t===C?"active":""),children:[(0,i.jsxs)("div",{className:"col-md-12 d-flex justify-content-center align-items-center mb-3 flex-wrap gap-2",children:[(0,i.jsx)("div",{className:"col-md-2"}),f.length>0?f.map((e,t)=>(0,i.jsx)("div",{className:"col-md-1",children:(0,i.jsx)("button",{onClick:()=>p(e),className:"btn text-white w-100 d-flex justify-content-center align-items-center text-center",style:{backgroundColor:g===e?"#EFA325":"#038176",border:"2px solid ".concat(g===e?"#EFA325":"#ffffff"),borderRadius:"22px",height:"60px",whiteSpace:"normal",fontSize:"14px",gap:"15px",transition:"all 0.3s ease",fontWeight:g===e?"bold":"normal"},children:z[e]||e})},t)):null,(0,i.jsx)("div",{className:"col-md-2"})]}),(0,i.jsx)("div",{className:"row justify-content-center",children:e.map(e=>(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"col-md-3 School_Card m-1 p-2 mb-5",children:(0,i.jsx)(c.N_,{to:"/school/".concat(e.id),className:"text-decoration-none text-dark",children:(0,i.jsxs)("div",{className:"h-100 d-flex flex-column justify-content-center align-items-center text-center",style:{borderRadius:"22px",margin:"auto",width:"auto",backgroundColor:"#fff"},children:[e.logo?(0,i.jsx)("img",{src:R(e.logo),alt:"logo School",className:"rounded-1 mb-3",style:{height:"150px",width:"auto",objectFit:"contain"},loading:"lazy"}):(0,i.jsx)("div",{className:"rounded-1 d-flex align-items-center justify-content-center",style:{width:"auto",height:"150px",background:"#ffffff",color:"#067C71",fontWeight:700,fontSize:"30px",borderRadius:"22px"},children:"Ahir Samaj"}),(0,i.jsx)("span",{className:"fw-bold text-dark",children:e.name})]})})},e.id)}))}),(0,i.jsx)("div",{className:"row",children:(0,i.jsx)("div",{className:"col-12 d-flex justify-content-center",children:(0,i.jsxs)("div",{className:"d-flex justify-content-center align-items-center gap-2 my-2",children:[(0,i.jsx)("button",{className:"btn btn-light rounded shadow",type:"button",onClick:T,"aria-label":"Previous slide",children:(0,i.jsx)(s.xrT,{"aria-hidden":"true"})}),(0,i.jsx)("button",{className:"btn btn-light rounded shadow",type:"button",onClick:I,"aria-label":"Next slide",children:(0,i.jsx)(o.oLC,{"aria-hidden":"true"})})]})})})]},t)):(0,i.jsx)("div",{className:"carousel-item active text-center py-5",children:(0,i.jsx)("p",{children:"No results found."})})}),(0,i.jsx)("div",{className:"d-block d-md-none",children:(0,i.jsxs)("div",{id:"mobileSchoolCarousel",className:"carousel content-box1 slide","data-bs-interval":"4000",children:[(0,i.jsx)("div",{className:"carousel-inner",children:H.map((e,t)=>(0,i.jsxs)("div",{className:"carousel-item ".concat(t===k?"active":""),children:[(0,i.jsx)("div",{className:"d-flex d-md-none py-3 overflow-auto gap-2 px-1",style:{scrollbarWidth:"none"},children:f.map((e,t)=>(0,i.jsx)("button",{onClick:()=>p(e),className:"btn text-white flex-shrink-0",style:{minWidth:"140px",height:"50px",backgroundColor:g===e?"#EFA325":"#038176",border:"2px solid ".concat(g===e?"#EFA325":"#ffffff"),borderRadius:"22px",fontSize:"14px",fontWeight:g===e?"bold":"normal"},children:z[e]||e},t))}),(0,i.jsxs)("div",{className:"row gx-3 gy-2 p-2",children:[e.map(e=>(0,i.jsx)("div",{className:"col-6 p-2",children:(0,i.jsx)(c.N_,{to:"/school/".concat(e.id),className:"text-decoration-none text-dark",children:(0,i.jsxs)("div",{className:"shadow-sm d-flex flex-column align-items-center text-center",style:{borderRadius:"12px",padding:"10px",backgroundColor:"#fff",height:"180px",justifyContent:"space-between"},children:[(0,i.jsx)("div",{style:{width:"100%",height:"auto",display:"flex",alignItems:"center",justifyContent:"center"},children:e.logo?(0,i.jsx)("img",{src:R(e.logo),alt:"".concat(e.name," logo"),width:"120",height:"120",loading:"lazy",style:{objectFit:"contain",display:"block"}}):(0,i.jsx)("div",{style:{width:"100%",height:"120px",background:"#ffffff",color:"#067C71",fontWeight:700,fontSize:"18px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:"Ahir Samaj"})}),(0,i.jsx)("span",{className:"fw-bold text-dark small",style:{fontSize:"10px",minHeight:"32px",display:"flex",alignItems:"center"},children:e.name})]})})},e.id)),1===e.length&&(0,i.jsx)("div",{className:"col-6"})]})]},t))}),(0,i.jsxs)("div",{className:"d-flex justify-content-center align-items-center gap-3 mb-3",children:[(0,i.jsx)("button",{className:"btn btn-light rounded shadow",type:"button",onClick:()=>{H.length&&S(e=>(e-1+H.length)%H.length)},"aria-label":"Previous slide",children:(0,i.jsx)(s.xrT,{"aria-hidden":"true"})}),(0,i.jsx)("button",{className:"btn btn-light rounded shadow",type:"button",onClick:()=>{H.length&&S(e=>(e+1)%H.length)},"aria-label":"Next slide",children:(0,i.jsx)(o.oLC,{"aria-hidden":"true"})})]})]})})]})}),(0,i.jsx)("hr",{className:"border-light"})]})}}}]);
//# sourceMappingURL=493.f9e57524.chunk.js.map